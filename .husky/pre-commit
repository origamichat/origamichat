#!/usr/bin/env sh
# Try to find and use the appropriate package manager
if command -v bun > /dev/null 2>&1; then
  # If bun is available in PATH, use it
  bun run format:ultracite
elif [ -f "$HOME/.bun/bin/bun" ]; then
  # Try common bun installation path
  "$HOME/.bun/bin/bun" run format:ultracite
elif command -v npx > /dev/null 2>&1; then
  # Fallback to npx if available
  npx ultracite format
else
  echo "Error: Could not find bun or npx to run formatter"
  exit 1
fi

# Stage any files that were modified by the formatter
git add -u